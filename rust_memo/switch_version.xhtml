<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
	<head>
		<title>Rust メモ: バージョンの切替</title>
		<link rel="stylesheet" href="style/base.css"/>
		<script src="lib/base.js"></script>
	</head>
	<body>
		<header>
			<h1><script>Base.insertTitle();</script></h1>
		</header>
		<p>
ビルドツールのバージョンの切替について。
		</p> <p>
ナイトリーへの変更方法を例に紹介している。
		</p> 
		<section>
			<h1>インストール</h1>
			<p>
以下のコマンドを実行。
			</p>
<pre><code>
rustup install nightly
</code></pre>
		</section> <section>
			<h1>バージョンの切替</h1>
			<p>
バージョンの切替方法には幾つかある。
			</p> <p>
ここではその中からよく使う方法のみを紹介する。その他の方法の詳細および各方法の優先度については、後述の『<a href="#spec">補足: 仕様詳細</a>』やそのリンク先を参照。
			</p>
			<section>
				<h2>ディレクトリ単位の設定</h2>
				<p>
プロジェクトのルートディレクトリに <code>rust-toolchain.toml</code> を配置。
				</p>
<pre><code class="language-toml">
[toolchain]
channel = "nightly"
</code></pre>
			</section> <section>
				<h2>デフォルトの切替</h2>
				<p>
以下のコマンドを実行。
				</p>
<pre><code>
rustup default nightly
</code></pre>
			</section>
		</section> <section>
			<h1>バージョンの確認</h1>
			<p>
<code>rustup show</code> コマンドでバージョンの確認ができる。
			</p>
			<section>
				<h2>サンプル</h2>
				<p>
以下では、<code>stable</code> と <code>nightly</code> がインストールされていて、有効になっているバージョンは <code>rust-toolchain.toml</code> ファイルの影響により nightly である事が分かる。
				</p>
<pre><code>
&gt; rustup show
Default host: x86_64-pc-windows-msvc
rustup home:  C:\Users\nossi\.rustup

installed toolchains
--------------------

stable-x86_64-pc-windows-msvc (default)
nightly-x86_64-pc-windows-msvc

active toolchain
----------------

nightly-x86_64-pc-windows-msvc (overridden by 'D:\development\rust_test\rust-toolchain.toml')
rustc 1.81.0-nightly (5affbb171 2024-07-18)
</code></pre>
			</section>
		</section> <section>
			<h1 id="spec">補足: 仕様詳細</h1>
			<p>
以下は <code>rustup</code> の公式の説明。
			</p>
			<iframe class="autoHeight" src="quote/rustup/overrides.xhtml"/>
		</section>
	</body>
</html>
